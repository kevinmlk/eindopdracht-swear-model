<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <script src="https://cdn.tailwindcss.com"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite App</title>
  </head>
  <body>
    <div id="app">
      <form action="">
        <div class="controls">
          <!-- Shoe size controls -->
          <div class="control">
            <label for="shoe-size">Shoe size:</label>
            <select id="shoe-size" name="shoe-size" type="button" class="inline-flex w-full justify-center gap-x-1.5 rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50" id="menu-button" aria-expanded="true" aria-haspopup="true">
              <option value="37">37</option>
              <option value="38">38</option>
              <option value="39">39</option>
              <option value="40">40</option>
              <option value="41">41</option>
              <option value="42">42</option>
              <option value="43">43</option>
              <option value="44">44</option>
              <option value="45">45</option>
              <option value="46">46</option>
              <option value="47">47</option>
            </select>
          </div>
          <!-- Shoe color controls -->
           <div class="color-options">
            <!-- Laces color -->
             <div class="control">
               <label for="laces-color">Laces color</label>
               <select id="laces-color" name="laces-color" type="button" class="inline-flex w-full justify-center gap-x-1.5 rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50" id="menu-button" aria-expanded="true" aria-haspopup="true">
                <option value="red">Red</option>
                <option value="blue">Blue</option>
                <option value="green">Green</option>
                <option value="yellow">Yellow</option>
                <option value="black">Black</option>
                <option value="white">White</option>
              </select>
             </div>
  
             <!-- Sole color -->
             <div class="control">
               <label for="sole-color">Sole color</label>
               <select id="sole-color" name="sole-color" type="button" class="inline-flex w-full justify-center gap-x-1.5 rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50" id="menu-button" aria-expanded="true" aria-haspopup="true">
                <option value="red">Red</option>
                <option value="blue">Blue</option>
                <option value="green">Green</option>
                <option value="yellow">Yellow</option>
                <option value="black">Black</option>
                <option value="white">White</option>
              </select>
             </div>
  
             <!-- Upper color -->
             <div class="control">
               <label for="upper-color">Upper color</label>
               <select id="upper-color" name="upper-color" type="button" class="inline-flex w-full justify-center gap-x-1.5 rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50" id="menu-button" aria-expanded="true" aria-haspopup="true">
                <option value="red">Red</option>
                <option value="blue">Blue</option>
                <option value="green">Green</option>
                <option value="yellow">Yellow</option>
                <option value="black">Black</option>
                <option value="white">White</option>
              </select>
             </div>

             <!-- Lower color -->
             <div class="control">
               <label for="lower-color">Lower color</label>
               <select id="lower-color" name="lower-color" type="button" class="inline-flex w-full justify-center gap-x-1.5 rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50" id="menu-button" aria-expanded="true" aria-haspopup="true">
                <option value="red">Red</option>
                <option value="blue">Blue</option>
                <option value="green">Green</option>
                <option value="yellow">Yellow</option>
                <option value="black">Black</option>
                <option value="white">White</option>
              </select>
             </div>
           </div>
  
           <!-- Material options -->
           <div class="material-options">
            <!-- Laces color -->
             <div class="control">
               <label for="laces-material">Laces material:</label>
               <select id="laces-material" type="button" class="inline-flex w-full justify-center gap-x-1.5 rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50" id="menu-button" aria-expanded="true" aria-haspopup="true">
                 <option value="suede">Normal</option>
                 <option value="suede">Suede</option>
                 <option value="leather">Leather</option>
                 <option value="satin">Satin</option>
               </select>
             </div>
  
             <!-- Sole material -->
             <div class="control">
               <label for="sole-material">Sole material</label>
               <select id="sole-material" type="button" class="inline-flex w-full justify-center gap-x-1.5 rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50" id="menu-button" aria-expanded="true" aria-haspopup="true">
                 <option value="suede">Normal</option>
                 <option value="suede">Suede</option>
                 <option value="leather">Leather</option>
                 <option value="satin">Satin</option>
               </select>
             </div>
  
             <!-- Upper material -->
             <div class="control">
               <label for="upper-material">Upper material</label>
               <select id="upper-material" type="button" class="inline-flex w-full justify-center gap-x-1.5 rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50" id="menu-button" aria-expanded="true" aria-haspopup="true">
                <option value="suede">Normal</option>
                <option value="suede">Suede</option>
                <option value="leather">Leather</option>
                <option value="satin">Satin</option>
               </select>
             </div>

             <!-- Lower material -->
             <div class="control">
               <label for="lower-material">Lower material</label>
               <select id="lower-material" type="button" class="inline-flex w-full justify-center gap-x-1.5 rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50" id="menu-button" aria-expanded="true" aria-haspopup="true">
                <option value="suede">Normal</option>
                <option value="suede">Suede</option>
                <option value="leather">Leather</option>
                <option value="satin">Satin</option>
               </select>
             </div>
  
           </div>
           <button>Add to cart</button>
        </div>

      </form>
    </div>
    <script type="module" src="/main.js"></script>
    <script>
      const urlParams = new URLSearchParams(window.location.search);
      const userId = urlParams.get('id');
      console.log(userId);
      const addToCartButton = document.querySelector('button');

      addToCartButton.addEventListener('click', (event) => {
      event.preventDefault(); // Prevent form submission or page reload

      // Gather selected options
      const shoeSize = document.getElementById('shoe-size').value;
      const lacesColor = document.getElementById('laces-color').value;
      const soleColor = document.getElementById('sole-color').value;
      const upperColor = document.getElementById('upper-color').value;
      // const lowerColor = document.getElementById('lower-color').value;
      const lacesMaterial = document.getElementById('laces-material').value;
      const soleMaterial = document.getElementById('sole-material').value;
      const upperMaterial = document.getElementById('upper-material').value;
      // const lowerMaterial = document.getElementById('lower-material').value;

      // Create a configuration object
      const config = {
        userId: userId,
        sneakerConfig: {
          shoeSize: shoeSize,
          colorOptions: {
            laces: lacesColor,
            sole: soleColor,
            upper: upperColor,
          },
          materialOptions: {
            laces: lacesMaterial,
            sole: soleMaterial,
            upper: upperMaterial,
          },
          charms: ["star", "heart"],
          patterns: "stripes",
          customText: "Custom Text"
        }
      };

      // Send the configuration to the Vue.js store
      sendConfigToVueStore(config);

      // Send the user to the store
      window.location.href = `https://eindopdracht-swear-frontend.vercel.app/cart`;
    });

      // Send the configuration to the Vue.js store
      function sendConfigToVueStore(config) {
        fetch('http://localhost:3000/api/v1/cart/', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(config),
        })
          .then((response) => response.json())
          .then((data) => {
            console.log('Successfully sent config to Vue.js store:', data);
          })
          .catch((error) => {
            console.error('Error sending config to Vue.js store:', error);
          });
      };


    </script>
  </body>
</html>
